<UserControl x:Class="LCPReportingSystem.UserControls.LineGraphUserControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
             xmlns:xctk="clr-namespace:Xceed.Wpf.Toolkit;assembly=Xceed.Wpf.Toolkit"
             xmlns:materialdesign="http://materialdesigninxaml.net/winfx/xaml/themes"
              xmlns:control="clr-namespace:LCPReportingSystem.UserControls"
              xmlns:ViewModel="clr-namespace:LCPReportingSystem.ViewModel"
             mc:Ignorable="d" 
             d:DesignHeight="795" d:DesignWidth="1500">
    

    <UserControl.Resources>
        <ViewModel:LineGraphViewModel x:Key="ViewModel"/>
    </UserControl.Resources>
    <Grid>
        
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="30"></RowDefinition>
            <RowDefinition></RowDefinition>
        </Grid.RowDefinitions>
       
        <!--Filter Button-->
        <StackPanel Orientation="Horizontal" Grid.Row="0" Grid.Column="0" Background="#0064C1" Width="260">
            <Button x:Name="FilterButton" Margin="0,0,0,0"  Content="Filter"  Click="FilterButton_Click" HorizontalAlignment="Center" Style="{StaticResource btnFilterCommanFilter}"></Button>
            <materialdesign:PackIcon Foreground="White" Height="30" Width="30" Kind="ArrowDropDown" Margin="-115,0,0,0" />
        </StackPanel>
        <!--Filter Button-->

        <!--Filter Section-->
        <Border Grid.Column="0" Grid.Row="1">

            <Border   Visibility="Visible" Background="#0064C1" Height="770" Width="260" Grid.Row="1" BorderBrush="Transparent" BorderThickness="0" CornerRadius="0"
                    VerticalAlignment="Top" HorizontalAlignment="Left" Padding="0" Margin="0,0,0,0">

                <StackPanel x:Name="FilterBorder" Width="250" Orientation="Vertical" Margin="0,20,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" >

                    
                    <!-- From Date -->
                    <StackPanel Orientation="Vertical" Margin="0,0,0,0">
                        <TextBlock Text="From Date"
                       Foreground="White"
                       FontWeight="SemiBold"
                       FontSize="14" Margin="10,0,0,0"
                        HorizontalAlignment="Left"
                       VerticalAlignment="Center" />
                        <xctk:DateTimePicker x:Name="fromdateTimePicker"
                                 Width="235"
                                 Height="28"  Margin="0,2,0,0" Padding="0,0,0,0"
                                 FontSize="14"
                                 FontWeight="SemiBold" Format="FullDateTime" TextAlignment="Left"  FormatString="dd-MM-yyyy HH:mm:ss"
                                 VerticalContentAlignment="Center" 
                                             HorizontalContentAlignment="Center"
                                 Value="{Binding Path=LineGraph.LngFromDate,Mode=TwoWay}"   />
                    </StackPanel>

                    <!-- To Date -->
                    <StackPanel Orientation="Vertical" Margin="0,10,0,0">
                        <TextBlock Text="To Date"
                       Foreground="White"
                       FontWeight="SemiBold"
                       FontSize="14"  Margin="10,0,0,0"
                      HorizontalAlignment="Left"
                       VerticalAlignment="Center" />
                        <xctk:DateTimePicker x:Name="todateTimePicker"
                                 Width="235"
                                 Height="28" Margin="0,0,0,0"  Padding="0,0,0,0"
                                 FontSize="14"
                                 FontWeight="SemiBold"
                                 VerticalContentAlignment="Center" TextAlignment="Left"
                                 Value="{Binding Path=LineGraph.LngToDate,Mode=TwoWay}" />
                    </StackPanel>
                    <!-- Exercise Combo -->
                    <StackPanel Orientation="Vertical" Margin="0,10,0,0" HorizontalAlignment="Left">
                        <TextBlock Text="Exercise"
                                Foreground="White"
                                FontWeight="SemiBold"
                                FontSize="14" Margin="10,0,0,0"
                                VerticalAlignment="Center"
                                />
                        <ComboBox x:Name="cmbExerciseType"
                           Width="235" Margin="10,0,0,0"
                           Height="30"
                           FontSize="13"
                           SelectionChanged="cmbExerciseType_SelectionChanged"
                           ItemsSource="{Binding}"
                           Style="{StaticResource LineComboStyle}"
                           ItemContainerStyle="{StaticResource LineComboItems}" />
                    </StackPanel>
                    <StackPanel Orientation="Vertical" Margin="0,10,0,0" HorizontalAlignment="Left">
                        <TextBlock Text="Select  SubSystem "
                             Foreground="White"
                             FontWeight="SemiBold"
                             FontSize="14" Margin="10,0,0,0"
                             VerticalAlignment="Center"
                             />
                        <ComboBox x:Name="cmbSubsystem"
                                Width="235" Margin="10,10,0,0"
                                Height="30"
                                FontSize="14"
                                SelectionChanged="cmbSubsystem_SelectionChanged"

                                Style="{StaticResource LineComboStyle}"
                                ItemContainerStyle="{StaticResource LineComboItems}">


                            <ComboBoxItem>Diesel Generator1</ComboBoxItem>
                            <ComboBoxItem>Diesel Generator2</ComboBoxItem>
                            <ComboBoxItem>Radio1</ComboBoxItem>
                            <ComboBoxItem>Radio2</ComboBoxItem>
                            <ComboBoxItem>Switch1</ComboBoxItem>
                            <ComboBoxItem>Switch2</ComboBoxItem>
                            <ComboBoxItem>UPS1</ComboBoxItem>
                            <ComboBoxItem>UPS2</ComboBoxItem>
                        </ComboBox>
                    </StackPanel>
                    <StackPanel Orientation="Vertical" Margin="0,10,0,0" HorizontalAlignment="Left">
                        <TextBlock Text="Parameters"  FontSize="14" Foreground="White" FontWeight="SemiBold" Margin="10,0,0,0"
                             VerticalAlignment="Center" FontFamily="Arial Unicode MS Regular"/>

                        <ComboBox Visibility="Collapsed" Width="255" Height="26" Style="{StaticResource LineComboStyle}" 
                            ItemContainerStyle="{StaticResource LineComboItems}"
                            ItemsSource="{Binding Path=LineGraph.PrameterCollection}" 
                            DisplayMemberPath="ParameterName" SelectedValuePath="Recordid"
                            SelectedItem="{Binding Path=LineGraph.SelectedPrameter}">   
                        </ComboBox>

                        <Grid HorizontalAlignment="Left" DataContext="{Binding Source={StaticResource ViewModel}}">
                            <control:MultiSelectComboBox Width="235" Background="White" Margin="10,0,0,0" Height="30" ItemsSource="{Binding}"  x:Name="MC1" />
                        </Grid>
                    </StackPanel>
                    







                    <StackPanel Orientation="Vertical">
                        <Button Command="{Binding LngFilterCommand}" BorderBrush="White" BorderThickness="1" Style="{StaticResource btnFilterComman}" Height="30" Margin="10 20 0 0"
              Content="Load Graph" HorizontalAlignment="Center"/>
                        <Button Command="{Binding SettingCommand}" BorderBrush="White" BorderThickness="1" Style="{StaticResource btnFilterComman}" Height="30" Margin="10 20 0 0"
Content="Settings" HorizontalAlignment="Center"/>

                        <Button Command="{Binding LinegraphHelpCommand}" BorderBrush="White" BorderThickness="1" Style="{StaticResource btnFilterComman}" Height="30" Margin="10 20 0 0"
Content="Help" HorizontalAlignment="Center"/>
                    </StackPanel>
                    <!-- Filter Button -->
                 
                </StackPanel>
            </Border>
            
        </Border>
        <!--Filter Section-->
       
        <!--Report Title-->
        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal"  Background="White"  >

            <TextBlock x:Name="txtWindowName" Text="SUBSYSTEM GRAPHICAL REPORT" Height="30"  Padding="500,2,0,0" Width="1120" Background="White"  Foreground="#0064C1" Margin="10,0,0,0"   FontSize="18" FontWeight="Bold" ></TextBlock>

        </StackPanel>
        <!--Report Title-->

        <!--Report -->
        <StackPanel Height="780" Grid.Column="1" Grid.Row="1">
       
            <lvc:CartesianChart Name="LineChart" Background="White" Height="780" Width="auto" Margin="0,0,0,0" Zoom="Xy" AllowDrop="True">
                <lvc:CartesianChart.AxisX>
                    <lvc:Axis Title="X-Axis" Labels="{Binding Labels}" />
                </lvc:CartesianChart.AxisX>
                <lvc:CartesianChart.AxisY>
                    <lvc:Axis Title="Y-Axis" />
                </lvc:CartesianChart.AxisY>
            </lvc:CartesianChart>
        </StackPanel>
        <!--Report -->

        <!--Help PopUp -->
        <Popup IsOpen="{Binding Path=LineGraph.IsLineGraphPopupOpen}" StaysOpen="False"  Placement="Center" PopupAnimation="Fade" Width="680" Height="250" AllowsTransparency="True">
            <Border CornerRadius="6" Width="640" Height="210" Background="#0064C1">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" Opacity="0.8"  Color="{StaticResource Color033D5E}" ShadowDepth="10" />
                </Border.Effect>
                <Grid>
                    <Border Margin="0,10,0,0" VerticalAlignment="Top" Height="30" Width="45" BorderThickness="0,0,0,2" BorderBrush="White">
                        <TextBlock Height="30" Width="45" Text="Help" Foreground="White" FontSize="18"  HorizontalAlignment="Center" FontWeight="Bold" FontFamily="Arial"></TextBlock>
                    </Border>
                    
                    <StackPanel VerticalAlignment="Center" Margin="8 0 8 0">
                        <TextBlock Style="{StaticResource txthelpPopup}">
                 The line graph data can be viewed by the user by clicking the <Run Foreground="YellowGreen">Load graph</Run>
                 button according to the selected <Run Foreground="YellowGreen">From Date</Run> 
                 and <Run Foreground="YellowGreen">To Date</Run> with selected parameter name in the dropdown.
                        </TextBlock>
                    </StackPanel>
                    <StackPanel VerticalAlignment="Bottom" HorizontalAlignment="Right">
                        <Button Command="{Binding CancelPopupCommand}"  Width="100" Foreground="White" Content="Cancel" FontWeight="SemiBold" Style="{StaticResource btnFilterComman}" Margin="0 0 10 10"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Popup>
        <!--Help PopUp -->
    
    </Grid>
</UserControl>
